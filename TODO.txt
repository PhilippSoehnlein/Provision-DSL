TODO for provisioning
---------------------

Generell:
  * Package: installer attribute OS-X: port, Ubuntu: apt, aptitute
             Provision::DSL::Installer::Port | Apt | Aptitude | ...
             Methoden: latest_version, installed_version, install(version)

  * Befehlsausführung

    User / Ausführung | keine Angabe | anderer User     | root
    ------------------+--------------+------------------+-------------------
    normal            | normal       | N/A              | N/A
    kann sudo         | normal       | sudo -n -u x ... | su - x -c ... / sudo
    root              | normal       | sudo -n -u x ... | normal

Entity::Rsync --> Entity::Backup (steuert keinen State bei)
  * backup => backup_dir / backup_copies => n Optionen
  * backup nur, wenn state != current
  * Linux: cp -al destination backup_yyyymmdd_hhmm -- 3-4 times faster than rsync
  * OS-X: pax -rw -l 
  * generisch: mkdir backup_dir; rsync -vcr --link-dest original --links original/ backup_dir/

_Ubuntu::Package
  * aptitude meldet keine Fehler beim Installieren
  * --> Test nach der Installation erforderlich.

Package
  * wenn kein "wanted" angegeben, nicht zwingend auf aktuelle Version aktualisieren.

Config:
  * cpan_mirror option starts a CPAN::Mirror::Server::HTTP server
  * remove environment

Entity::Execute:
  * cwd attribute

Perlbrew:
  * beim Installieren: laufen lassen von local/bin/perlbrew self-install

Service:
  * reload() feststellen.
    Idee: Prozess-Alter vs. config-file(s)
    problematisch, wenn sich das dahinter sitzende Script geändert habt

Provision:
  * -f switch: alle Entities sind outdated
  * --debug pass thru oder --trace ?
  * bei -v: stdout bei Execute mit anzeigen?
  * logging in ~/.provision/log/...

Entity::Cron
  Cron '/path/to/executable' => {
        minutes         => 11, # singular/plural, scalar/arrayref erlaubt.
        hours           => [5,6,7],
        days_of_week    => [1,2],
        months          => [1..12],
        days_of_month   => '*/2',
        
        path            => '/path/to/executable', # copied from name if omitted
        arguments       => [ ... ],
  };
  
  * wenn User === root ==> /etc/crontab, sonst crontab -e
  * jeder Eintrag wird mit einem Kommentar eingeleitet, enthält config name
    # autocreated by Provision::DSL (hrko dev) -- do not edit
  * Einträge kommen ganz am Anfang aber in jedem Fall alle 
    zu einer Config gehörenden in einem Block.


